<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>15. 三数之和</title>
</head>

<body>
  <script type="text/javascript">
    // #region
    // var threeSum = function (nums) {
    //   let result = [];
    //   nums.sort((a, b) => a - b);
    //   for (let i = 0; i < nums.length; i++) {
    //     let target = 0 - nums[i];
    //     let front = i + 1;
    //     let rear = nums.length - 1;
    //     while (front < rear) {
    //       if (nums[front] + nums[rear] === target) {
    //         result.push([nums[i], nums[front], nums[rear]]);
    //       } else if (nums[front] + nums[rear] >= target) {
    //         rear--;
    //       } else {
    //         front++;
    //       }
    //     }
    //   }
    //   return result;
    // };
    // #endregion

    var threeSum = function (nums) {
      let result = [];
      nums.sort((a, b) => a - b);
      for (let i = 0; i < nums.length; i++) {
        while (nums[i] === nums[i - 1]) {
          i++;
        }
        let target = 0 - nums[i];
        let front = i + 1;
        let rear = nums.length - 1;
        while (front < rear) {
          if (nums[front] + nums[rear] === target) {
            result.push([nums[i], nums[front], nums[rear]]);
            while (front < rear && nums[front] === nums[front + 1]) {
              front++;
            }
            while (front < rear && nums[rear] === nums[rear - 1]) {
              rear--;
            }
            rear--;
            front++;
          } else if (nums[front] + nums[rear] > target) {
            rear--;
          } else {
            front++;
          }
        }
      }
      return result;
    };

    // #region
    // const threeSum = function (nums) {
    //   if (!nums || nums.length < 3) return []
    //   let result = [], second, last
    //   // 排序
    //   nums.sort((a, b) => a - b)
    //   for (let i = 0; i < nums.length; i++) {
    //     if (nums[i] > 0) break
    //     // 去重
    //     if (i > 0 && nums[i] === nums[i - 1]) continue
    //     second = i + 1
    //     last = nums.length - 1
    //     while (second < last) {
    //       const sum = nums[i] + nums[second] + nums[last]
    //       if (!sum) {
    //         // sum 为 0
    //         result.push([nums[i], nums[second], nums[last]])
    //         // 去重
    //         while (second < last && nums[second] === nums[second + 1]) second++
    //         while (second < last && nums[last] === nums[last - 1]) last--
    //         second++
    //         last--
    //       }
    //       else if (sum < 0) second++
    //       else if (sum > 0) last--
    //     }
    //   }
    //   return result
    // };
    // #endregion

    // console.log(threeSum([-4,-2,-2,-2,0,1,2,2,2,3,3,4,4,6,6]));
    console.log(threeSum([-1,0,1,2,-1,-4]));
  </script>
</body>

</html>